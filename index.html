<!DOCTYPE html>
<html>
<head>
  <title>Flashcards App</title>
</head>
<body>
  <h1>Générateur de Flashcards</h1>

  <input type="file" id="fileInput" />
  <div id="flashcards"></div>

  <script>
    const fileInput = document.getElementById("fileInput");

    fileInput.addEventListener("change", async () => {
      const file = fileInput.files[0];
      if (!file) return;

      const text = await file.text();

      const response = await fetch("/api/flashcards", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ text })
      });

      const data = await response.json();

      const container = document.getElementById("flashcards");
      container.innerHTML = "";

      data.flashcards.forEach(card => {
        const div = document.createElement("div");
        div.innerHTML = `
          <p><strong>Q:</strong> ${card.question}</p>
          <p><strong>R:</strong> ${card.answer}</p>
          <hr/>
        `;
        container.appendChild(div);
      });
    });
  </script>
</body>
</html>
